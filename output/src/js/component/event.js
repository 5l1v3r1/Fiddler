var Fiddler_Event=function(){"use strict";function e(e){return e.indexOf("?fiddler=")>-1||e.indexOf("&fiddler=")>-1?!1:e.indexOf("http://")==0||e.indexOf("https://")==0?!0:!1}function t(){chrome.webRequest.onBeforeRequest.addListener(function(t){if(!e(t.url))return{};var n=Fiddler_Rule.fireSome("onBeforeRequest",t);if(n)return n},{urls:["<all_urls>"]},["blocking","requestBody"]),chrome.webRequest.onBeforeSendHeaders.addListener(function(t){if(!e(t.url))return{};var n=Fiddler_Rule.fireMerge("onBeforeSendHeaders",t);if(n)return n.cancel?{cancel:!0}:{requestHeaders:n.requestHeaders}},{urls:["<all_urls>"]},["blocking","requestHeaders"]),chrome.webRequest.onCompleted.addListener(function(t){if(!e(t.url))return{};Fiddler_Rule.fire("onCompleted",t)},{urls:["<all_urls>"]},["responseHeaders"])}return{init:function(){t()}}}()